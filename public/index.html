<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" />
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular.js" type="text/javascript"></script>
		<script type="text/javascript" src="lib/vendor/jsbeautify/jsbeautify.js"></script>
		<script type="text/javascript">
			angular.module('queryTest', [])
					.controller('queryController', function($scope, $http) {

						$scope.runQuery = function() {
							$http.post('/query', {q: $scope.query}).
									success(function(data, status, headers, config) {
										$scope.result=js_beautify(JSON.stringify(data));

									}).
									error(function(data, status, headers, config) {
										alert('There was a problem.');
									});
						}
					})
		</script>
	</head>
	<body ng-app="queryTest">
	<div class="container" ng-controller="queryController">
		<div class="row">
			<div class="col-xs-12">
				<br />
				<div style="width: 100%; height: 400px; border: 1px solid #333; overflow: scroll; white-space: pre; font-size: 12px;;"><code ng-bind="result"></code></div>
			</div>
		</div>
		<div class="row">
			<br />
		</div>
		<div class="row">
			<form class=" col-xs-12" ng-submit="runQuery();">
				<div class="form-group">
					<div class="form-group">
						<div class="input-group">
							<span class="input-group-addon">graph.</span>
							<input class="form-control" type="text" placeholder="Enter query (e.g., .V().index(1)" ng-model="query">
							<span class="input-group-btn">
							  <button class="btn btn-default" type="button" ng-click="runQuery();">
								  Run
							  </button>
						   </span>
						</div>
					</div>
				</div>
			</form>
		</div>
	</body>
</html>